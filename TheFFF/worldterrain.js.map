{"version":3,"file":"worldterrain.js","sourceRoot":"","sources":["worldterrain.ts"],"names":["TerrainQuad","TerrainQuad.constructor","WorldTerrain","WorldTerrain.constructor","WorldTerrain.genMapRandomly","WorldTerrain.genMapFromData","WorldTerrain.update","WorldTerrain.render","WorldTerrain.getTextureAtTile","WorldTerrain.getTextureIndexAtTile","WorldTerrain.worldSpaceToTileSpace","WorldTerrain.tileSpaceToWorldSpace","WorldTerrain.cameraTileMin","WorldTerrain.cameraTileMax"],"mappings":"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"}